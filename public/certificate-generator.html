<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Certificate Generator</title>
    <link rel="stylesheet" href="/css/certificate-style.css"> </head>
<body>
    <header class="erp-header"> <h1>Generate Student Certificates</h1>
        </header>

    <main class="erp-container"> <form id="certificate-form" class="erp-form">

            <section class="form-section">
                <h2><i class="fas fa-user-graduate"></i> Recipient & Context</h2> <fieldset>
                    <legend>Select Recipient(s)</legend>
                    <div class="form-grid">
                        <label for="student-select">Student/Class:</label>
                        <select id="student-select" name="studentId" required>
                            <option value="">-- Please Select --</option>
                            </select>
                        <div class="checkbox-group"> <input type="checkbox" id="bulk-generate-toggle" name="isBulk">
                             <label for="bulk-generate-toggle">Generate for entire selected class</label>
                        </div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Certificate Content</legend>
                    <div class="form-grid">
                        <label for="student-name">Student Name:</label>
                        <input type="text" id="student-name" name="studentName" placeholder="Auto-filled or enter manually" required>

                        <label for="course-event">Course/Event/Achievement:</label>
                        <input type="text" id="course-event" name="courseEvent" placeholder="e.g., Annual Sports Meet 2025" required>
                    </div>
                </fieldset>
            </section>

            <hr class="section-divider"> <section class="form-section">
                <h2><i class="fas fa-stamp"></i> Certificate Options</h2>
                 <fieldset>
                     <legend>Design and Details</legend>
                     <div class="form-grid">
                        <label for="template-select">Template:</label>
                        <select id="template-select" name="templateId">
                            <option value="completion_v1">Standard Completion</option>
                            <option value="excellence_v1">Academic Excellence</option>
                            <option value="participation_v1">Event Participation</option>
                            </select>

                        <label for="issue-date">Date of Issue:</label>
                        <input type="date" id="issue-date" name="issueDate" required>

                        <label for="signatory">Issuing Authority:</label>
                        <input type="text" id="signatory" name="signatory" value="School Principal">

                        <div class="checkbox-group full-width"> <input type="checkbox" id="include-qr" name="includeQrCode" checked>
                            <label for="include-qr">Include Verification QR Code</label>
                        </div>
                        <div class="checkbox-group full-width">
                            <input type="checkbox" id="include-signature" name="includeSignature">
                            <label for="include-signature">Apply Digital Signature</label>
                        </div>
                     </div>
                 </fieldset>
            </section>

            <hr class="section-divider">

            <div class="action-buttons">
                <button type="button" id="preview-btn" class="secondary-btn"><i class="fas fa-eye"></i> Preview</button>
                <button type="submit" id="generate-btn" class="primary-btn"><i class="fas fa-download"></i> Generate & Download</button>
                <button type="button" id="email-btn" class="tertiary-btn" style="display: none;"><i class="fas fa-envelope"></i> Email to Student</button>
                <span id="form-status" class="form-status-message"></span> </div>
        </form>

        <section class="preview-section">
            <h2><i class="fas fa-certificate"></i> Live Preview</h2>
            <div id="certificate-preview-container" class="preview-box">
                <p class="preview-placeholder">Enter details above to update preview...</p>
                 <div id="preview-qr-code" class="preview-qr">QR</div>
            </div>
        </section>

    </main>

    <footer class="erp-footer"> <p>&copy; 2025 Your School ERP</p>
    </footer>

    <script src="/js/certificate-generator.js"></script>
    <script src="js/global-config.js"></script>
</body>
</html>